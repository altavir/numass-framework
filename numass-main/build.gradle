apply plugin: 'application'

if (!hasProperty('mainClass')) {
    ext.mainClass = 'inr.numass.Main'
}
mainClassName = mainClass

description = """The main head of all numass projects"""

dependencies {
    compile group: 'commons-cli', name: 'commons-cli', version:'1.+'
    compile group: 'commons-io', name: 'commons-io', version:'2.+'
    compile project(':dataforge-stat:dataforge-minuit')
    compile project(':dataforge-fx')
    compile project(':dataforge-plots')
    compile project(':numass-storage')
    compile project(':dataforge-grind')
}

task workbench(dependsOn: classes, type: JavaExec){
    main 'inr.numass.workbench.Workbench'
    classpath = sourceSets.main.runtimeClasspath
    description "start visual numass workbench"
    group "numass"    

}

task listActions(dependsOn: classes, type: JavaExec) {
    main mainClass
    args "-lc"
    classpath = sourceSets.main.runtimeClasspath
    description "print a list of available actions as via -lc command line parameter"
    group "numass"    
}

task workspace(dependsOn: classes, type: JavaExec) {
    main 'inr.numass.workspace.NumassGrindLauncher'
    classpath = sourceSets.main.runtimeClasspath
    args "-c \"D:\\Work\\Numass\\sterile2016\\workspace.groovy\" numass.fitsum sum".split()
    description "Run workspace task"
    group "numass"

}